"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{3607:function(e,t,s){var n=s(3119),a=s(9493),r=s(6981),i=s(7549),l=s(4922),c=s(9715),o=s(3800),d=s(3229),m=s(3362),h=s(5171),u=s(6175),x=s(9757),p=s(4805),g=s(9418);t.Z=e=>{let{className:t="",onProductSelect:s}=e,[y,f]=(0,a.useState)([]),[b,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)([]);(0,a.useEffect)(()=>{S()},[]);let S=async()=>{try{let e=g.H.getWallet(),t=g.H.getWalletStats(),s={rank:t.membershipTier.name,totalPoints:e.totalEarned,totalEarned:e.totalEarned,totalSpent:e.totalSpent,currentBalance:e.balance,membershipTier:t.membershipTier.name,isAthenaPrime:!0,preferences:["travel","banking","resort"],transactionHistory:[]};N(s);let[n,a]=await Promise.all([p.P.getNewsAnalysis(),p.P.getAvailableProducts()]),r=await p.P.getPersonalizedRecommendations(s,n,a);k(r);let i={id:"welcome",type:"ai",content:"Xin ch\xe0o! T\xf4i l\xe0 AI Sales Assistant của ATHENA-HD. T\xf4i thấy bạn đang ở rank ".concat(s.rank," với ").concat(e.balance," SOV tokens. T\xf4i c\xf3 một số lời khuy\xean tối ưu để gi\xfap bạn kiếm th\xeam tokens v\xe0 tận dụng tối đa lợi \xedch của rank ").concat(s.rank,"!"),timestamp:new Date,metadata:{confidence:.95,urgency:"medium"}};f([i]),setTimeout(()=>{D(r[0])},2e3)}catch(e){console.error("Failed to initialize chat:",e)}},D=e=>{e&&(v(!0),setTimeout(()=>{let t={id:"ai-".concat(Date.now()),type:"ai",content:"\uD83C\uDFAF **".concat(e.product.name,"**\n\n\uD83D\uDCB0 **Tại sao t\xf4i khuy\xean bạn:**\n").concat(e.reason,"\n\n\uD83D\uDE80 **Lợi \xedch token:**\n").concat(e.tokenOptimization,"\n\n\uD83D\uDC8E **Lời khuy\xean c\xe1 nh\xe2n:**\n").concat(e.personalizedMessage,"\n\n\uD83D\uDCCA **Dự kiến nhận:** ").concat(e.expectedTokens," SOV tokens\n\uD83D\uDCC8 **ROI:** ").concat(Math.round(100*e.roi),"%\n\nBạn c\xf3 muốn t\xf4i giải th\xedch th\xeam về sản phẩm n\xe0y kh\xf4ng?"),timestamp:new Date,metadata:{productId:e.product.id,confidence:e.confidence,urgency:e.urgency,tokens:e.expectedTokens}};f(e=>[...e,t]),v(!1)},1500))},E=e=>{let t={id:"user-".concat(Date.now()),type:"user",content:e,timestamp:new Date};f(e=>[...e,t]),setTimeout(()=>{let t=A(e),s={id:"ai-".concat(Date.now()),type:"ai",content:t,timestamp:new Date};f(e=>[...e,s])},1e3)},A=e=>{let t=e.toLowerCase();if(t.includes("gi\xe1")||t.includes("price"))return"\uD83D\uDCB0 **Về gi\xe1 cả:**\n\nT\xf4i hiểu bạn quan t\xe2m đến gi\xe1 cả. Với rank ".concat(null==j?void 0:j.rank," của bạn, bạn sẽ nhận được:\n\n• **Giảm gi\xe1 đặc biệt** cho rank ").concat(null==j?void 0:j.rank,"\n• **Bonus tokens** cao hơn người d\xf9ng thường\n• **Ưu ti\xean** trong c\xe1c chương tr\xecnh khuyến m\xe3i\n\nBạn c\xf3 muốn t\xf4i t\xednh to\xe1n chi tiết lợi \xedch t\xe0i ch\xednh kh\xf4ng?");if(t.includes("token")||t.includes("sov"))return"\uD83D\uDE80 **Về SOV Tokens:**\n\nVới rank ".concat(null==j?void 0:j.rank,", bạn c\xf3 thể kiếm được:\n\n• **").concat(null==j?void 0:j.membershipTier.bonusMultiplier,"x** bonus tokens\n• **Ưu ti\xean** trong c\xe1c chương tr\xecnh thưởng\n• **Staking rewards** cao hơn\n• **Governance power** trong hệ thống\n\nBạn muốn t\xf4i giải th\xedch c\xe1ch tối ưu h\xf3a token earnings kh\xf4ng?");if(t.includes("tại sao")||t.includes("why")){var s;return"\uD83C\uDFAF **Tại sao t\xf4i khuy\xean bạn:**\n\n1. **Ph\xf9 hợp với rank:** Sản phẩm n\xe0y được tối ưu cho rank ".concat(null==j?void 0:j.rank,"\n2. **ROI cao:** Dự kiến lợi nhuận ").concat(Math.round((null===(s=w[0])||void 0===s?void 0:s.roi)*100),"%\n3. **Xu hướng:** Ph\xf9 hợp với thị trường hiện tại\n4. **Lịch sử:** Dựa tr\xean giao dịch trước đ\xe2y của bạn\n\nBạn c\xf3 muốn t\xf4i ph\xe2n t\xedch chi tiết hơn kh\xf4ng?")}return t.includes("c\xf3")||t.includes("yes")||t.includes("ok")?"\uD83C\uDF89 **Tuyệt vời!**\n\nT\xf4i sẽ hướng dẫn bạn từng bước:\n\n1. **Xem chi tiết** sản phẩm\n2. **T\xednh to\xe1n** lợi \xedch token\n3. **So s\xe1nh** với c\xe1c lựa chọn kh\xe1c\n4. **Đặt h\xe0ng** với ưu đ\xe3i đặc biệt\n\nBạn muốn bắt đầu với bước n\xe0o?":'\uD83E\uDD16 **T\xf4i hiểu bạn đang hỏi về:** "'.concat(e,'"\n\nVới rank ').concat(null==j?void 0:j.rank," của bạn, t\xf4i khuy\xean bạn n\xean:\n\n• **Tập trung** v\xe0o c\xe1c sản phẩm c\xf3 ROI cao\n• **Tận dụng** bonus multiplier của rank\n• **Theo d\xf5i** xu hướng thị trường\n• **Đa dạng h\xf3a** danh mục đầu tư\n\nBạn c\xf3 c\xe2u hỏi cụ thể n\xe0o kh\xf4ng?")},T=e=>{switch(e){case"high":return"text-red-600 bg-red-100";case"medium":return"text-orange-600 bg-orange-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},P=e=>{switch(e){case"high":return(0,n.jsx)(l.Z,{className:"w-4 h-4"});case"medium":return(0,n.jsx)(c.Z,{className:"w-4 h-4"});case"low":return(0,n.jsx)(o.Z,{className:"w-4 h-4"});default:return(0,n.jsx)(d.Z,{className:"w-4 h-4"})}};return(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-lg ".concat(t),children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-t-xl",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,n.jsx)(m.Z,{className:"w-6 h-6"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-bold",children:"AI Sales Assistant"}),(0,n.jsxs)("p",{className:"text-sm text-purple-100",children:["Rank ",null==j?void 0:j.rank," • ",null==j?void 0:j.currentBalance," SOV"]})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(h.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"AI Powered"})]})]})}),(0,n.jsxs)("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[(0,n.jsx)(r.M,{children:y.map(e=>(0,n.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,n.jsx)("div",{className:"max-w-xs lg:max-w-md ".concat("user"===e.type?"ml-12":"mr-12"),children:(0,n.jsxs)("div",{className:"flex items-start space-x-2 ".concat("user"===e.type?"flex-row-reverse space-x-reverse":""),children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.type?"bg-blue-500":"bg-gradient-to-r from-purple-500 to-pink-500"),children:"user"===e.type?(0,n.jsx)(u.Z,{className:"w-5 h-5 text-white"}):(0,n.jsx)(h.Z,{className:"w-5 h-5 text-white"})}),(0,n.jsxs)("div",{className:"rounded-lg p-3 ".concat("user"===e.type?"bg-blue-500 text-white":"bg-gray-100 text-gray-900"),children:[(0,n.jsx)("div",{className:"text-sm whitespace-pre-line",children:e.content}),e.metadata&&(0,n.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[e.metadata.urgency&&(0,n.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(T(e.metadata.urgency)),children:[P(e.metadata.urgency),(0,n.jsx)("span",{className:"ml-1 capitalize",children:e.metadata.urgency})]}),e.metadata.tokens&&(0,n.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:["+",e.metadata.tokens," SOV"]})]})]})]})})},e.id))}),b&&(0,n.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:(0,n.jsx)("div",{className:"max-w-xs lg:max-w-md mr-12",children:(0,n.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,n.jsx)(h.Z,{className:"w-5 h-5 text-white"})}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-3",children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})})]}),(0,n.jsxs)("div",{className:"border-t p-4",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,n.jsx)("button",{onClick:()=>E("T\xf4i muốn biết về gi\xe1 cả"),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200 transition-colors",children:"\uD83D\uDCB0 Gi\xe1 cả"}),(0,n.jsx)("button",{onClick:()=>E("Lợi \xedch token như thế n\xe0o?"),className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm hover:bg-green-200 transition-colors",children:"\uD83D\uDE80 Tokens"}),(0,n.jsx)("button",{onClick:()=>E("Tại sao khuy\xean t\xf4i?"),className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm hover:bg-purple-200 transition-colors",children:"\uD83C\uDFAF L\xfd do"}),(0,n.jsx)("button",{onClick:()=>E("T\xf4i đồng \xfd"),className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm hover:bg-orange-200 transition-colors",children:"✅ Đồng \xfd"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"text",placeholder:"Nhập c\xe2u hỏi của bạn...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyPress:e=>{if("Enter"===e.key){let t=e.target;t.value.trim()&&(E(t.value.trim()),t.value="")}}}),(0,n.jsx)("button",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200",children:(0,n.jsx)(x.Z,{className:"w-4 h-4"})})]})]})]})}},6542:function(e,t,s){s.d(t,{Z:function(){return Y}});var n=s(3119),a=s(1333),r=s(9493),i=s(8002),l=s.n(i),c=s(7549),o=s(6981),d=s(5342),m=s(8103),h=s(323),u=s(8072),x=s(6555),p=s(662),g=s(5171),y=s(6175),f=s(9818),b=s(8354),v=s(3599),j=s(9542),N=s(3438),w=s(998),k=s(1731),S=s(1269),D=s(3501),E=s(8038),A=s(4716),T=s(3355),P=s(487),C=s(746),F=s(4233),B=s(5972);function I(e){var t,s;let{className:a="",compact:i=!1}=e,[l,d]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!0),{updateTheme:p,themeColors:g}=(0,C.useRankingTheme)();(0,r.useEffect)(()=>{y()},[]);let y=async()=>{try{let t=await T.N.getUserRanking();if(d(t),t){var e;if(p(t),(null===(e=t.rank)||void 0===e?void 0:e.name)&&F.hL.shouldShow(F.cf.WELCOME_NOTIFICATION_SHOWN)){let e=t.rank.icon||("Diamond"===t.rank.name?"\uD83D\uDC8E":"Gold"===t.rank.name?"\uD83E\uDD47":"Silver"===t.rank.name?"\uD83E\uDD48":"\uD83E\uDD49");B.default.success("".concat(e," Welcome back, ").concat(t.rank.name," member!"),{style:{background:g.background,border:"1px solid ".concat(g.border),color:g.text},duration:3e3}),F.hL.markAsShown(F.cf.WELCOME_NOTIFICATION_SHOWN)}}}catch(e){console.error("Failed to fetch user ranking:",e)}finally{x(!1)}},f=e=>e&&0!==e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString():"0",b=()=>{if(!l||!l.nextRankPoints)return 100;let e=l.totalPoints/l.nextRankPoints*100;return Math.min(Math.max(e,0),100)};return u?(0,n.jsx)("div",{className:"animate-pulse ".concat(a),children:(0,n.jsx)("div",{className:"bg-gray-200 h-8 w-24 rounded"})}):l?i?(0,n.jsxs)("div",{className:"relative ".concat(a),children:[(0,n.jsxs)("button",{onClick:()=>h(!m),className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,n.jsx)(v.Z,{className:"w-4 h-4 text-gray-600"}),(0,n.jsx)(P.Z,{rank:l.rank,size:"sm",showLevel:!1,animated:!1}),(0,n.jsx)(A.Z,{className:"w-4 h-4 text-gray-400 transition-transform ".concat(m?"rotate-180":"")})]}),(0,n.jsx)(o.M,{children:m&&(0,n.jsx)(c.E.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 z-50 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 p-4",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(P.Z,{rank:l.rank,size:"lg",showBenefits:!0}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Multiplier: ",l.bonusMultiplier,"x"]})]}),l.nextRankPoints&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,n.jsxs)("span",{className:"text-gray-600",children:["Points: ",f(l.totalPoints)]}),(0,n.jsxs)("span",{className:"text-gray-600",children:["Next: ",f(l.nextRankPoints)]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)(c.E.div,{initial:{width:0},animate:{width:"".concat(b(),"%")},className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full",transition:{duration:.8}})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-gray-900",children:l.totalTransactions||0}),(0,n.jsx)("p",{className:"text-xs text-gray-600",children:"Giao dịch"})]}),(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,n.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[(s=l.totalSpent)&&0!==s?s>=1e6?"".concat((s/1e6).toFixed(1),"M"):s>=1e3?"".concat((s/1e3).toFixed(0),"K"):s.toString():"0"," VND"]}),(0,n.jsx)("p",{className:"text-xs text-gray-600",children:"Tổng chi"})]})]}),l.achievements&&l.achievements.length>0&&(0,n.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-3 border border-yellow-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-yellow-800",children:"Th\xe0nh tựu"}),(0,n.jsx)("span",{className:"text-lg",children:"\uD83C\uDFC6"})]}),(0,n.jsxs)("p",{className:"text-yellow-700 text-sm",children:[l.achievements.length," th\xe0nh tựu đ\xe3 đạt được"]})]})]})})})]}):(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 ".concat(a),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,n.jsx)(v.Z,{className:"w-5 h-5 mr-2"}),"Your Rank"]}),(0,n.jsx)(P.Z,{rank:l.rank,size:"md"})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[l.nextRankPoints&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"Progress to next rank"}),(0,n.jsxs)("span",{className:"text-gray-600",children:[f(l.totalPoints)," / ",f(l.nextRankPoints)," points"]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,n.jsx)(c.E.div,{initial:{width:0},animate:{width:"".concat(b(),"%")},className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full",transition:{duration:1}})}),l.nextRankPoints>l.totalPoints&&(0,n.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["C\xf2n ",f(l.nextRankPoints-l.totalPoints)," điểm để thăng hạng"]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f(l.totalPoints)}),(0,n.jsx)("p",{className:"text-xs text-gray-600",children:"Điểm"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTransactions||0}),(0,n.jsx)("p",{className:"text-xs text-gray-600",children:"Giao dịch"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[l.bonusMultiplier||1,"x"]}),(0,n.jsx)("p",{className:"text-xs text-gray-600",children:"Bonus"})]})]}),(null===(t=l.rank)||void 0===t?void 0:t.benefits)&&l.rank.benefits.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quyền lợi"}),(0,n.jsx)("div",{className:"space-y-1",children:l.rank.benefits.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-2"}),e]},t))})]}),l.servicesUsed&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sử dụng dịch vụ"}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,n.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-blue-600",children:l.servicesUsed.vietjet||0}),(0,n.jsx)("p",{className:"text-xs text-blue-700",children:"Vietjet"})]}),(0,n.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-green-600",children:l.servicesUsed.hdbank||0}),(0,n.jsx)("p",{className:"text-xs text-green-700",children:"HDBank"})]}),(0,n.jsxs)("div",{className:"text-center p-2 bg-purple-50 rounded",children:[(0,n.jsx)("p",{className:"text-lg font-bold text-purple-600",children:l.servicesUsed.sovico||0}),(0,n.jsx)("p",{className:"text-xs text-purple-700",children:"Sovico"})]})]})]})]})]}):null}var R=e=>{let{tier:t,points:s,compact:a=!1,showBonus:r=!0}=e,i=e=>{switch(e){case"Diamond":return"\uD83D\uDC8E";case"Gold":return"\uD83E\uDD47";case"Silver":return"\uD83E\uDD48";case"Bronze":return"\uD83E\uDD49";default:return"⭐"}},l=e=>{switch(e){case"Diamond":return"from-blue-400 via-purple-500 to-pink-500";case"Gold":return"from-yellow-400 via-yellow-500 to-yellow-600";case"Silver":return"from-gray-300 via-gray-400 to-gray-500";case"Bronze":return"from-orange-400 via-orange-500 to-orange-600";default:return"from-gray-400 to-gray-500"}};return a?(0,n.jsxs)(c.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"inline-flex items-center space-x-2 px-3 py-1 bg-gradient-to-r ".concat(l(t.name)," text-white rounded-full text-sm font-medium shadow-lg"),children:[(0,n.jsx)("span",{className:"text-lg",children:i(t.name)}),(0,n.jsx)("span",{children:t.name}),r&&(0,n.jsxs)("span",{className:"text-xs opacity-80",children:["(",t.bonusMultiplier,"x)"]})]}):(0,n.jsx)(c.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r ".concat(l(t.name)," rounded-xl p-4 text-white shadow-lg"),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:i(t.name)}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-bold",children:[t.name," Member"]}),(0,n.jsxs)("p",{className:"text-sm opacity-80",children:["Level ",t.level," • ",s.toLocaleString()," points"]})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(g.Z,{className:"w-5 h-5"}),(0,n.jsxs)("span",{className:"text-xl font-bold",children:[t.bonusMultiplier,"x"]})]}),(0,n.jsx)("p",{className:"text-xs opacity-80",children:"Earning Bonus"})]})]})})};let O=[{name:"Flights",href:"/vietjet",icon:u.Z},{name:"Banking",href:"/hdbank",icon:x.Z},{name:"Vikkibank",href:"/vikkibank",icon:p.Z},{name:"Sovico",href:"/sovico",icon:g.Z},{name:"AI Dashboard",href:"/ai-dashboard",icon:g.Z}],M=[{name:"Profile",href:"/profile",icon:y.Z},{name:"Transactions",href:"/transactions",icon:f.Z},{name:"Cart",href:"/cart",icon:b.Z},{name:"Loyalty",href:"/loyalty",icon:v.Z}];function V(e){let{className:t=""}=e,s=(0,a.usePathname)(),i=(0,a.useRouter)(),{user:u,isAuthenticated:p,logout:y,hasAthenaPrime:f}=(0,S.useAuth)(),[b]=(0,r.useState)(3),[v,A]=(0,r.useState)(!1),T=async()=>{await y(),i.push("/")};return(null==s?void 0:s.startsWith("/auth"))?null:(0,n.jsx)(d.p,{as:"nav",className:(0,D.W)("bg-white shadow-sm border-b border-gray-200",t),children:e=>{var t;let{open:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"container-athena",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,n.jsx)(l(),{href:"/",className:"flex items-center space-x-3",children:(0,n.jsx)("div",{className:"h-10 w-10 rounded-lg overflow-hidden",children:(0,n.jsx)("img",{src:"/logo.png",alt:"Sovico Logo",className:"h-full w-full object-contain"})})})}),p&&(0,n.jsx)("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-8",children:O.map(e=>{let t=s===e.href;return(0,n.jsxs)(l(),{href:e.href,className:(0,D.W)("inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200",t?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,n.jsx)(e.icon,{className:"w-4 h-4 mr-2"}),e.name]},e.name)})})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[p?(0,n.jsxs)(n.Fragment,{children:[f()&&(0,n.jsxs)(c.E.div,{initial:{scale:0},animate:{scale:1},className:"hidden sm:flex items-center space-x-1 bg-token-100 text-token-800 px-3 py-1 rounded-full text-xs font-medium",children:[(0,n.jsx)(g.Z,{className:"w-3 h-3"}),(0,n.jsx)("span",{children:"Prime"})]}),(0,n.jsx)(I,{compact:!0}),(0,n.jsx)(R,{tier:{name:"Diamond",level:4,color:"blue",bonusMultiplier:2},points:15e3,compact:!0,showBonus:!0}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{onClick:()=>A(!v),className:"flex items-center space-x-2 px-3 py-2 bg-primary-50 text-primary-700 rounded-lg hover:bg-primary-100 transition-colors",children:[(0,n.jsx)(x.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"hidden sm:block text-sm font-medium",children:"SOV Wallet"})]}),(0,n.jsx)(o.M,{children:v&&(0,n.jsx)(c.E.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 z-50 mt-2 w-80",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-xl border border-gray-200 p-1",children:[(0,n.jsx)(E.Z,{}),(0,n.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,n.jsx)(l(),{href:"/wallet",className:"block w-full text-center py-2 text-sm text-primary-600 hover:text-primary-700 font-medium",onClick:()=>A(!1),children:"View Full Wallet →"})})]})})})]}),(0,n.jsxs)("button",{type:"button",className:"relative p-2 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-full",children:[(0,n.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,n.jsx)(j.Z,{className:"h-6 w-6"}),b>0&&(0,n.jsx)(c.E.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 h-5 w-5 bg-error-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:b})]}),(0,n.jsxs)(m.v,{as:"div",className:"relative",children:[(0,n.jsx)("div",{children:(0,n.jsxs)(m.v.Button,{className:"flex items-center space-x-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 p-1",children:[(0,n.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,n.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-sm font-medium text-white",children:(null==u?void 0:null===(t=u.fullName)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,n.jsx)("span",{className:"hidden sm:block text-gray-700 font-medium",children:null==u?void 0:u.fullName})]})}),(0,n.jsx)(h.u,{as:r.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsxs)(m.v.Items,{className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,n.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,n.jsx)("p",{className:"text-sm text-gray-700 font-medium",children:null==u?void 0:u.fullName}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:null==u?void 0:u.email})]}),M.map(e=>(0,n.jsx)(m.v.Item,{children:t=>{let{active:s}=t;return(0,n.jsxs)(l(),{href:e.href,className:(0,D.W)(s?"bg-gray-100":"","flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"),children:[(0,n.jsx)(e.icon,{className:"w-4 h-4 mr-3"}),e.name]})}},e.name)),(0,n.jsx)(m.v.Item,{children:e=>{let{active:t}=e;return(0,n.jsxs)("button",{onClick:T,className:(0,D.W)(t?"bg-gray-100":"","flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"),children:[(0,n.jsx)(N.Z,{className:"w-4 h-4 mr-3"}),"Sign out"]})}})]})})]})]}):(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(l(),{href:"/auth/login",className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Sign in"}),(0,n.jsx)(l(),{href:"/auth/register",className:"btn btn-primary",children:"Get Started"})]}),p&&(0,n.jsx)("div",{className:"sm:hidden",children:(0,n.jsxs)(d.p.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",children:[(0,n.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?(0,n.jsx)(w.Z,{className:"block h-6 w-6","aria-hidden":"true"}):(0,n.jsx)(k.Z,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})]})}),p&&(0,n.jsx)(o.M,{children:a&&(0,n.jsx)(d.p.Panel,{static:!0,as:c.E.div,className:"sm:hidden",children:(0,n.jsx)(c.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"pt-2 pb-3 space-y-1 border-t border-gray-200 bg-gray-50",children:O.map(e=>{let t=s===e.href;return(0,n.jsxs)(d.p.Button,{as:l(),href:e.href,className:(0,D.W)("flex items-center px-3 py-2 text-base font-medium border-l-4",t?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800"),children:[(0,n.jsx)(e.icon,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})})})})]})}})}var z=s(5062),Z=s(8889),L=s(7326);let H={platform:[{name:"Dashboard",href:"/dashboard"},{name:"Services",href:"/services"},{name:"Transactions",href:"/transactions"}],services:[{name:"Vietjet Airlines",href:"/services/vietjet"},{name:"HDBank",href:"/services/hdbank"},{name:"Resorts & Hotels",href:"/services/resorts"},{name:"Insurance",href:"/services/insurance"}],support:[{name:"Help Center",href:"/help"},{name:"Contact Us",href:"/contact"},{name:"API Documentation",href:"/docs"},{name:"System Status",href:"/status"}],legal:[{name:"Privacy Policy",href:"/privacy"},{name:"Terms of Service",href:"/terms"},{name:"Cookie Policy",href:"/cookies"},{name:"Blockchain Terms",href:"/blockchain-terms"}]},_=[{name:"Facebook",href:"#",icon:e=>(0,n.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})},{name:"Twitter",href:"#",icon:e=>(0,n.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})},{name:"LinkedIn",href:"#",icon:e=>(0,n.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M19 0H5a5 5 0 00-5 5v14a5 5 0 005 5h14a5 5 0 005-5V5a5 5 0 00-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z",clipRule:"evenodd"})})}];function G(){return(0,n.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,n.jsxs)("div",{className:"container-athena py-12",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[(0,n.jsx)("h3",{className:"text-2xl font-bold text-gradient-token mb-4",children:"ATHENA Platform"}),(0,n.jsx)("p",{className:"text-gray-300 mb-6 max-w-md",children:"Transform your rewards into tradable SOV-Tokens with our revolutionary super-app ecosystem powered by blockchain technology."}),(0,n.jsxs)("div",{className:"space-y-3 text-sm text-gray-300",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(z.Z,{className:"w-4 h-4 text-primary-400"}),(0,n.jsx)("span",{children:"123 Nguyen Hue Street, District 1, Ho Chi Minh City"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(Z.Z,{className:"w-4 h-4 text-primary-400"}),(0,n.jsx)("span",{children:"+84 (0) 28 1234 5678"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(L.Z,{className:"w-4 h-4 text-primary-400"}),(0,n.jsx)("span",{children:"support@athena-platform.com"})]})]}),(0,n.jsx)("div",{className:"flex space-x-4 mt-6",children:_.map(e=>(0,n.jsxs)("a",{href:e.href,className:"text-gray-400 hover:text-white transition-colors duration-200",children:[(0,n.jsx)("span",{className:"sr-only",children:e.name}),(0,n.jsx)(e.icon,{className:"h-5 w-5"})]},e.name))})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},children:[(0,n.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Platform"}),(0,n.jsx)("ul",{className:"space-y-2",children:H.platform.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:[(0,n.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),(0,n.jsx)("ul",{className:"space-y-2",children:H.services.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},children:[(0,n.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,n.jsx)("ul",{className:"space-y-2 mb-6",children:H.support.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))}),(0,n.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Legal"}),(0,n.jsx)("ul",{className:"space-y-2",children:H.legal.map(e=>(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:e.name})},e.name))})]})})]}),(0,n.jsx)("div",{className:"border-t border-gray-800 mt-12 pt-8",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,n.jsx)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"text-sm text-gray-400",children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," ATHENA Platform by Sovico Group. All rights reserved."]})}),(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.5},viewport:{once:!0},className:"flex items-center space-x-6 text-sm text-gray-400",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),(0,n.jsx)("span",{children:"System Status: Operational"})]}),(0,n.jsx)("div",{children:"Version 1.0.0"})]})]})}),(0,n.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-800",children:(0,n.jsxs)(c.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.6},viewport:{once:!0},className:"text-center",children:[(0,n.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Powered by"}),(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-8 text-xs text-gray-500",children:[(0,n.jsx)("span",{className:"service-vietjet font-semibold",children:"Vietjet Airlines"}),(0,n.jsx)("span",{className:"text-gray-600",children:"•"}),(0,n.jsx)("span",{className:"service-hdbank font-semibold",children:"HDBank"}),(0,n.jsx)("span",{className:"text-gray-600",children:"•"}),(0,n.jsx)("span",{className:"service-resort font-semibold",children:"Resorts"}),(0,n.jsx)("span",{className:"text-gray-600",children:"•"}),(0,n.jsx)("span",{className:"service-insurance font-semibold",children:"Insurance"})]})]})})]})})}var U=s(7383),W=s(9757),K=s(3607),J=e=>{let{className:t=""}=e,[s,a]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!1);return s?(0,n.jsx)(o.M,{children:(0,n.jsx)(c.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-6 right-6 z-50 w-96 max-w-sm",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:(0,n.jsx)(U.Z,{className:"w-5 h-5"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-bold",children:"AI Assistant"}),(0,n.jsx)("p",{className:"text-sm text-purple-100",children:"Smart consultation"})]})]}),(0,n.jsx)("button",{onClick:()=>{a(!1),l(!1)},className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:(0,n.jsx)(w.Z,{className:"w-5 h-5"})})]})}),(0,n.jsx)("div",{className:"h-96",children:i?(0,n.jsx)(K.Z,{className:"h-full"}):(0,n.jsxs)("div",{className:"p-6 text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(g.Z,{className:"w-8 h-8 text-white"})}),(0,n.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI Personalization"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"I can help you optimize tokens and provide personalized recommendations"}),(0,n.jsxs)("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 flex items-center space-x-2 mx-auto",children:[(0,n.jsx)("span",{children:"Start conversation"}),(0,n.jsx)(W.Z,{className:"w-4 h-4"})]})]})})]})})}):(0,n.jsx)(c.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"fixed bottom-6 right-6 z-50 ".concat(t),children:(0,n.jsxs)("button",{onClick:()=>{a(!0),l(!0)},className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 group",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(U.Z,{className:"w-6 h-6"}),(0,n.jsx)("span",{className:"hidden sm:block font-medium",children:"AI Assistant"})]}),(0,n.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse",children:(0,n.jsx)(g.Z,{className:"w-3 h-3"})})]})})};function Y(e){let{children:t}=e,s=(0,a.usePathname)(),r=null==s?void 0:s.startsWith("/auth");return r?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50",children:t}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,n.jsx)(V,{}),(0,n.jsx)("main",{className:"flex-1",children:t}),(0,n.jsx)(G,{}),(0,n.jsx)(J,{})]})}},487:function(e,t,s){s.d(t,{Z:function(){return r}});var n=s(3119),a=s(7549);function r(e){var t,s;let{rank:r,size:i="md",showLevel:l=!0,showBenefits:c=!1,showProgress:o=!1,currentPoints:d=0,nextRankPoints:m,animated:h=!0,className:u=""}=e;if(!r)return(0,n.jsx)("div",{className:"inline-flex items-center px-3 py-2 bg-gray-200 text-gray-800 rounded-full ".concat(u),children:(0,n.jsx)("span",{className:"text-sm",children:"No Rank"})});let x=(0,n.jsxs)("div",{className:"\n      inline-flex items-center space-x-2 rounded-full border-2 font-semibold shadow-lg\n      ".concat({sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base",large:"px-6 py-4 text-lg"}[i]," ").concat((t=null==r?void 0:r.name)&&({Bronze:"bg-gradient-to-r from-amber-700 to-amber-600 text-white border-amber-500",Silver:"bg-gradient-to-r from-gray-400 to-gray-500 text-white border-gray-400",Gold:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black border-yellow-400",Diamond:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-cyan-400"})[t]||"bg-gray-200 text-gray-800 border-gray-300"," ").concat(u,"\n    "),children:[(0,n.jsx)("span",{className:{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",large:"w-8 h-8"}[i],children:(s=null==r?void 0:r.name)?({Bronze:"\uD83E\uDD49",Silver:"\uD83E\uDD48",Gold:"\uD83E\uDD47",Diamond:"\uD83D\uDC8E"})[s]||"\uD83C\uDFC5":"\uD83C\uDFC6"}),(0,n.jsx)("span",{children:(null==r?void 0:r.name)||"Unknown"}),l&&(null==r?void 0:r.level)&&(0,n.jsxs)("span",{className:"bg-black/20 rounded-full px-2 py-0.5 text-xs",children:["L",r.level]})]});return h?(0,n.jsxs)(a.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative group",children:[x,o&&m&&(0,n.jsxs)(a.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,n.jsx)("span",{children:"Tiến độ thăng hạng"}),(0,n.jsxs)("span",{children:[d.toLocaleString()," / ",m.toLocaleString()]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)(a.E.div,{initial:{width:0},animate:{width:"".concat(Math.min(d/m*100,100),"%")},transition:{duration:1,ease:"easeOut"},className:"h-2 rounded-full ".concat((null==r?void 0:r.name)==="Diamond"?"bg-gradient-to-r from-blue-400 to-purple-600":(null==r?void 0:r.name)==="Gold"?"bg-gradient-to-r from-yellow-400 to-orange-500":(null==r?void 0:r.name)==="Silver"?"bg-gradient-to-r from-gray-400 to-gray-600":"bg-gradient-to-r from-orange-400 to-red-500")})}),m>d&&(0,n.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["C\xf2n ",(m-d).toLocaleString()," điểm để thăng hạng"]})]}),c&&(0,n.jsxs)(a.E.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-black text-white text-xs rounded-lg whitespace-nowrap z-10 pointer-events-none",children:[(0,n.jsx)("div",{className:"font-semibold mb-1",children:"Rank Benefits:"}),(0,n.jsxs)("ul",{className:"text-left",children:[r.benefits.slice(0,3).map((e,t)=>(0,n.jsxs)("li",{children:["• ",e]},t)),r.benefits.length>3&&(0,n.jsxs)("li",{children:["• +",r.benefits.length-3," more..."]})]}),(0,n.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"})]})]}):(0,n.jsxs)("div",{className:"relative group",children:[x,c&&(0,n.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-black text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:[(0,n.jsx)("div",{className:"font-semibold mb-1",children:"Rank Benefits:"}),(0,n.jsxs)("ul",{className:"text-left",children:[r.benefits.slice(0,3).map((e,t)=>(0,n.jsxs)("li",{children:["• ",e]},t)),r.benefits.length>3&&(0,n.jsxs)("li",{children:["• +",r.benefits.length-3," more..."]})]})]})]})}},746:function(e,t,s){s.r(t),s.d(t,{RankingThemeProvider:function(){return c},useRankingTheme:function(){return i}});var n=s(3119),a=s(9493);let r=(0,a.createContext)(void 0),i=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useRankingTheme must be used within a ThemeProvider");return e},l={Diamond:{primary:"#3B82F6",secondary:"#8B5CF6",gradient:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",background:"linear-gradient(135deg, #EBF4FF 0%, #F3E8FF 100%)",border:"#3B82F6",text:"#1E40AF"},Gold:{primary:"#F59E0B",secondary:"#F97316",gradient:"linear-gradient(135deg, #F59E0B 0%, #F97316 100%)",background:"linear-gradient(135deg, #FFFBEB 0%, #FFF7ED 100%)",border:"#F59E0B",text:"#92400E"},Silver:{primary:"#6B7280",secondary:"#9CA3AF",gradient:"linear-gradient(135deg, #6B7280 0%, #9CA3AF 100%)",background:"linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%)",border:"#6B7280",text:"#374151"},Bronze:{primary:"#F97316",secondary:"#EA580C",gradient:"linear-gradient(135deg, #F97316 0%, #EA580C 100%)",background:"linear-gradient(135deg, #FFF7ED 0%, #FFEDD5 100%)",border:"#F97316",text:"#C2410C"}},c=e=>{let{children:t}=e,[s,i]=(0,a.useState)("Bronze"),[c,o]=(0,a.useState)(l.Bronze),d=e=>{var t;let s=(null==e?void 0:null===(t=e.rank)||void 0===t?void 0:t.name)||"Bronze";i(s),o(l[s]||l.Bronze);let n=document.documentElement,a=l[s]||l.Bronze;n.style.setProperty("--current-rank-primary",a.primary),n.style.setProperty("--current-rank-secondary",a.secondary),n.style.setProperty("--current-rank-gradient",a.gradient),n.style.setProperty("--current-rank-background",a.background),n.style.setProperty("--current-rank-border",a.border),n.style.setProperty("--current-rank-text",a.text)};return(0,a.useEffect)(()=>{d({rank:{name:"Bronze",level:1,icon:"\uD83E\uDD49",color:"#F97316",benefits:[],minPoints:0,bonusMultiplier:1},totalPoints:0,totalSpent:0,totalTransactions:0,servicesUsed:{},achievements:[],bonusMultiplier:1})},[]),(0,n.jsx)(r.Provider,{value:{currentRank:s,themeColors:c,updateTheme:d},children:t})}},8038:function(e,t,s){s.d(t,{Z:function(){return y}});var n=s(3119),a=s(9493),r=s(7549),i=s(6981),l=s(3648),c=s(8819),o=s(9640),d=s(9621),m=s(3354),h=s(3691),u=s(3229),x=s(5335),p=s(5972),g=e=>{let{onPayment:t,requiredAmount:s=0,showFullInterface:g=!0}=e,[y,f]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(!0),[w,k]=(0,a.useState)(!1),[S,D]=(0,a.useState)(""),[E,A]=(0,a.useState)(30);(0,a.useEffect)(()=>{T()},[]);let T=async()=>{try{N(!0);let[e,t]=await Promise.all([x.E.getSOVWallet(),x.E.getSOVWalletStats()]);f(e),v(t)}catch(e){console.error("Failed to load wallet data:",e),p.default.error("Failed to load wallet data")}finally{N(!1)}},P=async()=>{if(!S||0>=parseFloat(S)){p.default.error("Please enter a valid amount");return}try{let e=parseFloat(S);await x.E.stakeSOVTokens(e,E),p.default.success("Staked ".concat(e," SOV tokens for ").concat(E," days")),k(!1),D(""),T()}catch(e){p.default.error(e.message||"Failed to stake tokens")}},C=async()=>{if(!y||y.lockedBalance<=0){p.default.error("No staked tokens to unstake");return}try{await x.E.unstakeSOVTokens(y.lockedBalance),p.default.success("Unstaked ".concat(y.lockedBalance," SOV tokens")),T()}catch(e){p.default.error(e.message||"Failed to unstake tokens")}};if(j)return(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,n.jsxs)("div",{className:"animate-pulse",children:[(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,n.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-4"}),(0,n.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})});if(!y||!b)return(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:(0,n.jsx)("p",{className:"text-gray-500",children:"Failed to load wallet data"})});let F=b.membershipTier,B=y.balance>=s;return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-600 via-blue-600 to-cyan-600 rounded-xl shadow-lg p-6 text-white",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:(0,n.jsx)(l.Z,{className:"h-6 w-6"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"SOV Wallet"}),(0,n.jsx)("p",{className:"text-white/80 text-sm",children:"ATHENA Token Balance"})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-2xl font-bold",children:y.balance.toLocaleString()}),(0,n.jsx)("span",{className:"text-lg font-medium",children:"SOV"})]}),(0,n.jsx)("p",{className:"text-white/80 text-sm",children:"Available Balance"})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-2xl",children:F.icon}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-semibold",children:[F.name," Member"]}),(0,n.jsxs)("p",{className:"text-white/80 text-sm",children:[F.bonusMultiplier,"x earning bonus"]})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-sm text-white/80",children:"Total Value"}),(0,n.jsxs)("p",{className:"text-lg font-semibold",children:[(y.balance+y.lockedBalance).toLocaleString()," SOV"]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,n.jsx)(c.Z,{className:"h-4 w-4 text-green-300"}),(0,n.jsx)("span",{className:"text-sm text-white/80",children:"Total Earned"})]}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:y.totalEarned.toLocaleString()})]}),(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4 text-red-300"}),(0,n.jsx)("span",{className:"text-sm text-white/80",children:"Total Spent"})]}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:y.totalSpent.toLocaleString()})]})]}),y.lockedBalance>0&&(0,n.jsxs)("div",{className:"bg-white/10 rounded-lg p-3 mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 text-yellow-300"}),(0,n.jsx)("span",{className:"text-sm text-white/80",children:"Staked Amount"})]}),(0,n.jsxs)("span",{className:"font-semibold",children:[y.lockedBalance.toLocaleString()," SOV"]})]}),y.stakingRewards>0&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,n.jsx)("span",{className:"text-sm text-white/80",children:"Staking Rewards"}),(0,n.jsxs)("span",{className:"font-semibold text-green-300",children:["+",y.stakingRewards.toLocaleString()]})]})]}),s>0&&(0,n.jsx)("div",{className:"mt-4",children:B?(0,n.jsxs)("button",{onClick:()=>{t&&y&&t(y.balance)},className:"w-full bg-white/20 hover:bg-white/30 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200",children:["Pay ",s.toLocaleString()," SOV"]}):(0,n.jsxs)("div",{className:"w-full bg-red-500/20 text-red-200 py-3 px-4 rounded-lg text-center",children:["Insufficient Balance (Need ",s.toLocaleString()," SOV)"]})})]}),g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:"Stake"})]}),(0,n.jsxs)("button",{onClick:C,disabled:y.lockedBalance<=0,className:"flex items-center justify-center space-x-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200",children:[(0,n.jsx)(h.Z,{className:"h-5 w-5"}),(0,n.jsx)("span",{children:"Unstake"})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(0,n.jsx)(u.Z,{className:"h-5 w-5 text-yellow-500"}),(0,n.jsxs)("span",{children:[F.name," Benefits"]})]}),(0,n.jsx)("div",{className:"space-y-2",children:F.benefits.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),(0,n.jsx)("span",{children:e})]},t))}),(0,n.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,n.jsx)("p",{className:"text-gray-600",children:"Staking Bonus"}),(0,n.jsxs)("p",{className:"font-semibold text-green-600",children:["+",(100*F.stakingBonus).toFixed(1),"%"]})]}),(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,n.jsx)("p",{className:"text-gray-600",children:"Fee Discount"}),(0,n.jsxs)("p",{className:"font-semibold text-blue-600",children:["-",(100*F.transactionFeeDiscount).toFixed(1),"%"]})]})]})]})]}),(0,n.jsx)(i.M,{children:w&&(0,n.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>k(!1),children:(0,n.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Stake SOV Tokens"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to Stake"}),(0,n.jsx)("input",{type:"number",value:S,onChange:e=>D(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter amount",max:y.balance}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Available: ",y.balance.toLocaleString()," SOV"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (days)"}),(0,n.jsxs)("select",{value:E,onChange:e=>A(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:30,children:"30 days"}),(0,n.jsx)("option",{value:90,children:"90 days"}),(0,n.jsx)("option",{value:180,children:"180 days"}),(0,n.jsx)("option",{value:365,children:"365 days"})]})]}),(0,n.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3",children:[(0,n.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,n.jsx)("strong",{children:"Expected Rewards:"})," ",S?(.12*parseFloat(S)/365*E).toFixed(2):"0"," SOV"]}),(0,n.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Based on 12% APY"})]})]}),(0,n.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,n.jsx)("button",{onClick:()=>k(!1),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,n.jsx)("button",{onClick:P,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"Stake Tokens"})]})]})})})]})};function y(e){let{className:t="",showFullInterface:s=!1,onPayment:a,requiredAmount:r=0}=e;return(0,n.jsx)("div",{className:t,children:(0,n.jsx)(g,{showFullInterface:s,onPayment:a,requiredAmount:r})})}},4805:function(e,t,s){s.d(t,{P:function(){return a}});class n{async getPersonalizedRecommendations(e,t,s){try{let n=this.buildPersonalizationPrompt(e,t,s);console.log("Calling Gemini API with prompt:",n);let a=await fetch("".concat(this.baseUrl,"?key=").concat(this.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:.8,topK:40,topP:.95,maxOutputTokens:4096},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!a.ok){let e=await a.text();throw console.error("API Error Response:",e),Error("API Error: ".concat(a.status," - ").concat(e))}let r=await a.json();if(console.log("Gemini API Response:",r),!r.candidates||!r.candidates[0]||!r.candidates[0].content)throw Error("Invalid API response structure");let i=r.candidates[0].content.parts[0].text;return console.log("AI Response Text:",i),this.parseAIResponse(i,s)}catch(t){return console.error("AI Personalization Error:",t),this.getFallbackRecommendations(e,s)}}buildPersonalizationPrompt(e,t,s){var n;let a=t.map(e=>"- ".concat(e.title,": ").concat(e.content.substring(0,200),"... (Relevance: ").concat(e.relevance,")")).join("\n"),r=s.map(e=>"- ID: ".concat(e.id,"\n       - Name: ").concat(e.name,"\n       - Price: ").concat(e.price," VND\n       - Service Type: ").concat(e.serviceType,"\n       - Category: ").concat(e.category,"\n       - Token reward: ").concat(e.tokenReward," SOV\n       - Discount: ").concat(e.discount||0,"%\n       - Features: ").concat(e.features.join(", "),"\n       - Description: ").concat(e.description)).join("\n\n"),i=(null===(n=e.transactionHistory)||void 0===n?void 0:n.slice(0,5).map(e=>"- ".concat(e.type,": ").concat(e.amount," SOV - ").concat(e.description," (").concat(e.serviceType,")")).join("\n"))||"No transaction history";return"\nYou are a professional AI Sales Assistant for the ATHENA-HD system - an integrated multi-service blockchain platform. Your task is to deeply analyze user information and provide product purchase recommendations to optimize tokens based on real data.\n\n=== DETAILED USER INFORMATION ===\n- Current Rank: ".concat(e.rank," (").concat(e.membershipTier,")\n- Total accumulated points: ").concat(e.totalPoints," points\n- Tokens earned: ").concat(e.totalEarned," SOV\n- Tokens spent: ").concat(e.totalSpent," SOV  \n- Current balance: ").concat(e.currentBalance," SOV\n- ATHENA Prime member: ").concat(e.isAthenaPrime?"Yes":"No","\n- Personal preferences: ").concat(e.preferences.join(", "),"\n- Recent transaction history:\n").concat(i,"\n\n=== CURRENT MARKET NEWS ===\n").concat(a,"\n\n=== AVAILABLE PRODUCTS ===\n").concat(r,"\n\n=== AI SALES TASKS ===\n1. DEEP ANALYSIS: Read user information, rank, transaction history and preferences carefully\n2. MARKET ANALYSIS: Consider current news to provide recommendations that align with trends\n3. TOKEN CALCULATION: Based on rank ").concat(e.rank,', calculate token rewards and multipliers\n4. SELECTION: Choose 3-5 optimal products for this user\n5. PERSONALIZATION: Provide specific, persuasive and useful recommendations\n\n=== OUTPUT REQUIREMENTS (JSON) ===\nReturn JSON with exact format:\n{\n  "recommendations": [\n    {\n      "productId": "string",\n      "reason": "Specific reason why you recommend this product for this user",\n      "tokenOptimization": "Description of how to optimize tokens with rank ').concat(e.rank,'",\n      "urgency": "low|medium|high",\n      "confidence": 0.0-1.0,\n      "personalizedMessage": "Personalized, friendly and persuasive recommendation",\n      "expectedTokens": number,\n      "roi": number\n    }\n  ]\n}\n\n=== SALES GUIDELINES ===\n- Act as a professional salesperson, knowledgeable about blockchain and tokenomics\n- Use friendly, professional and persuasive language\n- Provide specific analysis based on rank ').concat(e.rank," and user history\n- Give practical, actionable recommendations\n- Calculate token rewards accurately based on rank multiplier\n- Consider market trends from news to provide appropriate recommendations\n\nPlease analyze carefully and provide the best recommendations for this user!\n    ")}parseAIResponse(e,t){try{console.log("Parsing AI response:",e);let s=e.match(/\{[\s\S]*\}/);if(s||(s=e.match(/\[[\s\S]*\]/)),!s){let t=e.match(/```(?:json)?\s*(\{[\s\S]*\})\s*```/);t&&(s=[t[1]])}if(!s)throw console.error("No JSON found in AI response:",e),Error("No JSON found in AI response");let n=s[0];console.log("Extracted JSON string:",n);let a=JSON.parse(n);console.log("Parsed JSON:",a);let r=a.recommendations||[];return console.log("Recommendations array:",r),r.map(e=>{let s=t.find(t=>t.id===e.productId);return s?{product:s,reason:e.reason||"AI recommendation",tokenOptimization:e.tokenOptimization||"Optimized for your tier",urgency:e.urgency||"medium",confidence:e.confidence||.8,personalizedMessage:e.personalizedMessage||"Recommended for you",expectedTokens:e.expectedTokens||s.tokenReward,roi:e.roi||.15}:(console.warn("Product not found for ID: ".concat(e.productId)),null)}).filter(Boolean)}catch(t){return console.error("Error parsing AI response:",t),console.error("AI Response was:",e),[]}}getFallbackRecommendations(e,t){let s=this.getTierMultiplier(e.membershipTier);return t.filter(e=>e.tokenReward>0).sort((e,t)=>t.tokenReward*s-e.tokenReward*s).slice(0,3).map(t=>({product:t,reason:"Optimized for rank ".concat(e.rank),tokenOptimization:"Earn ".concat(t.tokenReward*s," SOV tokens"),urgency:"medium",confidence:.7,personalizedMessage:"Perfect for your ".concat(e.rank," rank"),expectedTokens:t.tokenReward*s,roi:.12}))}getTierMultiplier(e){switch(e.toLowerCase()){case"diamond":return 2;case"gold":return 1.5;case"silver":return 1.2;default:return 1}}async getNewsAnalysis(){try{let e=new Date,t=new Date(e.getTime()-864e5);return[{title:"VietJet Air expands international routes, increasing travel opportunities",content:"VietJet Air has announced 5 new international routes to popular destinations like Singapore, Bangkok, Tokyo. This creates great opportunities for travel and business, especially suitable for post-COVID-19 travel trends. New flights will have special prices for loyal customers.",category:"travel",publishedAt:t.toISOString(),relevance:.95},{title:"HDBank launches premium account package with high interest rates",content:"HDBank officially launches new premium account package with interest rates up to 8.5%/year, 2% higher than market. This package is exclusively for VIP customers with minimum balance of 500 million VND. Customers also enjoy many special benefits like free transfers, priority transactions and personal financial consulting.",category:"banking",publishedAt:t.toISOString(),relevance:.88},{title:"Sovico Resort summer promotion with special discounted prices",content:"Sovico Resort launches 'Summer Paradise 2024' promotion with up to 30% discount on all resort packages. The program includes water sports activities, spa treatments and specialty cuisine. Especially, customers booking this month will receive complimentary dining vouchers worth 500,000 VND.",category:"resort",publishedAt:t.toISOString(),relevance:.82},{title:"Vietnam blockchain market shows strong growth",content:"According to the latest report, Vietnam's blockchain and cryptocurrency market has grown 45% in Q2 2024. This trend is driven by wider crypto payment adoption and new DeFi projects. Many large enterprises have started integrating blockchain into their business operations.",category:"blockchain",publishedAt:t.toISOString(),relevance:.9},{title:"Vikkibank launches next-generation digital banking services",content:"Vikkibank has launched a new generation digital banking platform with integrated AI and machine learning. The new system allows customers to manage finances more intelligently with features like spending prediction, automated investment advice and advanced biometric security.",category:"banking",publishedAt:t.toISOString(),relevance:.85}]}catch(e){return console.error("Failed to fetch news data:",e),[{title:"Financial market shows stability",content:"Domestic and international financial markets are showing positive signs of stability",category:"finance",publishedAt:new Date().toISOString(),relevance:.7}]}}async getAvailableProducts(){return[{id:"vietjet-flight-001",name:"VietJet Air - Hanoi to Ho Chi Minh City (Round trip)",price:15e5,category:"flight",serviceType:"vietjet",tokenReward:150,discount:10,features:["Baggage 20kg","Meal service","Priority boarding","Free cancellation"],description:"Domestic round-trip flight with many special offers for loyal customers"},{id:"vietjet-flight-002",name:"VietJet Air - Hanoi to Singapore",price:32e5,category:"flight",serviceType:"vietjet",tokenReward:320,discount:15,features:["International flight","Baggage 30kg","Meal service","Entertainment"],description:"International flight to Singapore with special discounted prices"},{id:"hdbank-premium-001",name:"HDBank Premium Account - VIP",price:5e5,category:"banking",serviceType:"hdbank",tokenReward:50,features:["8.5% annual interest","Free transfers","Priority transactions","Financial consulting"],description:"VIP premium account with high interest rates and many special benefits"},{id:"hdbank-premium-002",name:"HDBank Business Account",price:1e6,category:"banking",serviceType:"hdbank",tokenReward:100,discount:5,features:["Business support","High transaction limit","Multi-currency","24/7 support"],description:"Business account with comprehensive business support"},{id:"sovico-resort-001",name:"Sovico Resort - Phu Quoc (3 days 2 nights)",price:25e5,category:"resort",serviceType:"sovico",tokenReward:250,discount:15,features:["Beach view room","Spa service","All inclusive","Airport transfer"],description:"Premium resort package in Phu Quoc with beautiful sea view"},{id:"sovico-resort-002",name:"Sovico Resort - Da Nang (2 days 1 night)",price:18e5,category:"resort",serviceType:"sovico",tokenReward:180,discount:20,features:["Mountain view","Golf course","Fine dining","Cultural tour"],description:"Resort package in Da Nang with unique cultural experiences"},{id:"vikkibank-digital-001",name:"Vikkibank Digital Banking Pro",price:3e5,category:"banking",serviceType:"vikkibank",tokenReward:30,features:["AI assistant","Smart budgeting","Investment advice","Biometric security"],description:"Next-generation digital banking service with AI and machine learning"},{id:"marketplace-electronics-001",name:"iPhone 15 Pro Max 256GB",price:35e6,category:"electronics",serviceType:"marketplace",tokenReward:3500,discount:8,features:["Latest model","256GB storage","Pro camera","5G support"],description:"Premium smartphone with professional camera"},{id:"marketplace-electronics-002",name:"MacBook Pro M3 14-inch",price:45e6,category:"electronics",serviceType:"marketplace",tokenReward:4500,discount:12,features:["M3 chip","14-inch display","16GB RAM","512GB SSD"],description:"Professional laptop with latest M3 chip"}]}constructor(){this.apiKey="AIzaSyBHHB33PBHt8B4c8AkQCqQBCdTLUuKemWs",this.baseUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent"}}let a=new n},3355:function(e,t,s){s.d(t,{N:function(){return r}});var n=s(4956);class a{async getUserRanking(){try{return await (0,n.ox)(400),n.OG}catch(e){return console.error("Failed to fetch user ranking:",e),{rank:{name:"Bronze",level:1,icon:"\uD83E\uDD49",color:"#F97316",bonusMultiplier:1,benefits:["Welcome bonus","Basic support"],minPoints:0,maxPoints:999},totalPoints:0,totalSpent:0,totalTransactions:0,servicesUsed:{},achievements:[],nextRankPoints:1e3,bonusMultiplier:1}}}async getServiceBonus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;arguments.length>2&&arguments[2];try{await (0,n.ox)(300);let e={...n.A2,amount:Math.floor(.1*t),transactionAmount:t};return e}catch(e){return console.error("Failed to fetch service bonus:",e),null}}async getAllRanks(){try{return await (0,n.ox)(300),[{name:"Bronze",level:1,icon:"\uD83E\uDD49",color:"#CD7F32",bonusMultiplier:1,benefits:["Welcome bonus","Basic support"],minPoints:0,maxPoints:999},{name:"Silver",level:2,icon:"\uD83E\uDD48",color:"#C0C0C0",bonusMultiplier:1.2,benefits:["Priority support","Exclusive offers"],minPoints:1e3,maxPoints:4999},{name:"Gold",level:3,icon:"\uD83E\uDD47",color:"#FFD700",bonusMultiplier:1.5,benefits:["VIP support","Higher earning rates","Exclusive rewards"],minPoints:5e3,maxPoints:9999},{name:"Diamond",level:4,icon:"\uD83D\uDC8E",color:"#B9F2FF",bonusMultiplier:2,benefits:["Concierge service","Maximum earning rates","Premium rewards"],minPoints:1e4}]}catch(e){return console.error("Failed to fetch ranks:",e),[]}}async getLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{await (0,n.ox)(400);let s=n.uh.slice(t,t+e);return s}catch(e){return console.error("Failed to fetch leaderboard:",e),[]}}async getUserHistory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{return await (0,n.ox)(500),[{id:"hist_001",activityType:"rank_up",pointsEarned:1e3,serviceType:"flight",oldRank:{name:"Silver",icon:"\uD83E\uDD48"},newRank:{name:"Gold",icon:"\uD83E\uDD47"},transaction:{description:"Flight booking reward",amount:500},metadata:{airline:"VietJet Air"},createdAt:"2024-01-15T10:30:00Z"},{id:"hist_002",activityType:"points_earned",pointsEarned:300,serviceType:"banking",transaction:{description:"Banking service reward",amount:300},metadata:{bank:"HDBank"},createdAt:"2024-01-14T14:20:00Z"},{id:"hist_003",activityType:"achievement_unlocked",pointsEarned:200,createdAt:"2024-01-13T09:15:00Z"}].slice(0,e)}catch(e){return console.error("Failed to fetch user history:",e),[]}}getRankIcon(e){return({Bronze:"\uD83E\uDD49",Silver:"\uD83E\uDD48",Gold:"\uD83E\uDD47",Diamond:"\uD83D\uDC8E"})[e]||"\uD83C\uDFC5"}getRankColor(e){return({Bronze:"#CD7F32",Silver:"#C0C0C0",Gold:"#FFD700",Diamond:"#B9F2FF"})[e]||"#6B7280"}formatPoints(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString()}calculateRankProgress(e,t,s){return s?Math.min(Math.max((e-t)/(s-t)*100,0),100):100}}let r=new a},4233:function(e,t,s){s.d(t,{cf:function(){return n},hL:function(){return a}});let n={DEMO_BANNER_DISMISSED:"demo-banner-dismissed",SOV_TOKEN_BANNER_DISMISSED:"sov-token-banner-dismissed",WELCOME_NOTIFICATION_SHOWN:"welcome-notification-shown",RANK_UPGRADE_SHOWN:"rank-upgrade-shown",PAYMENT_SUCCESS_SHOWN:"payment-success-shown"};class a{static has(e){return null!==sessionStorage.getItem(e)}static get(e){return sessionStorage.getItem(e)}static set(e,t){sessionStorage.setItem(e,t)}static remove(e){sessionStorage.removeItem(e)}static clear(){sessionStorage.clear()}static shouldShow(e){return!this.has(e)}static markAsShown(e){this.set(e,"true")}static resetNotifications(){Object.values(n).forEach(e=>{this.remove(e)})}}}}]);