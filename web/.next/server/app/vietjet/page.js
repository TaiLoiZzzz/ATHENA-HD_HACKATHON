(()=>{var e={};e.id=997,e.ids=[997],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2418:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=t(1491),r=t(6504),l=t(8984),i=t.n(l),n=t(8861),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["vietjet",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3655)),"E:\\ATHENA-HD_HACKATHON\\web\\src\\app\\vietjet\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8052)),"E:\\ATHENA-HD_HACKATHON\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1975,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\ATHENA-HD_HACKATHON\\web\\src\\app\\vietjet\\page.tsx"],x="/vietjet/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/vietjet/page",pathname:"/vietjet",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4266:(e,s,t)=>{Promise.resolve().then(t.bind(t,2681))},2681:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var a=t(3157),r=t(1906),l=t(2678),i=t(1352),n=t(9811),c=t(7313),d=t(9312),o=t(5494),x=t(5029),m=t(1155),u=t(4207),h=t(2295),g=t(9193),p=t(51),b=t(6933),j=t(690);let f=({flightDetails:e,passengers:s,totalPrice:t,sovTokenAmount:l,onPaymentSuccess:i,onPaymentError:n,className:c=""})=>{let[d,o]=(0,r.useState)(null),[f,N]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{S()},[]);let S=async()=>{try{let e=await b.H.getWallet();o(e)}catch(e){console.error("Failed to load wallet:",e)}},C=async()=>{if(!d||d.balance<D){j.default.error("Insufficient SOV token balance");return}v(!0);try{let a=b.H.processPayment(D,"vietjet",`flight_${e?.flightNumber}_${Date.now()}`,`VietJet Air booking - ${e?.departure.airport.code} to ${e?.arrival.airport.code}`),r={id:a.id,flightDetails:e,passengers:s,totalPrice:t,sovTokensUsed:D,sovTokensEarned:e?.sovTokens?.standard||0,bookingDate:new Date().toISOString(),status:"confirmed",paymentMethod:"sov_token",contactInfo:{email:"user@example.com",phone:"+84 123 456 789"}},l=JSON.parse(localStorage.getItem("flight_bookings")||"[]");l.unshift(r),localStorage.setItem("flight_bookings",JSON.stringify(l)),b.H.addTransaction({type:"spend",amount:-D,description:`Flight booking: ${e?.airline} ${e?.flightNumber}`,serviceType:"flight",serviceReferenceId:a.id,status:"completed",metadata:{flightNumber:e?.flightNumber,route:`${e?.departure.airport.code}-${e?.arrival.airport.code}`,passengers:s.length,bookingId:a.id}}),j.default.success("Payment successful! Flight booked."),k(!1),i&&i({...a,bookingData:r}),await S()}catch(s){let e=s.message||"Payment failed";j.default.error(e),n&&n(e)}finally{v(!1)}},D=l||Math.ceil(t/1e4),P=d&&d.balance>=D;console.log("FlightPayment Debug:",{totalPrice:t,sovTokenAmount:l,actualTokenAmount:D,walletBalance:d?.balance,canPay:P});let T=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),E=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,a.jsxs)("div",{className:`space-y-6 ${c}`,children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Flight Summary"}),e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(m.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.airline}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Flight ",e.flightNumber]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-bold text-blue-600",children:T(t)}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[l||Math.ceil(t/1e4)," SOV"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Departure"}),a.jsx("p",{className:"font-medium",children:e.departure.airport.code}),a.jsx("p",{className:"text-gray-600",children:e.departure.time}),a.jsx("p",{className:"text-gray-600",children:E(e.departure.date)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Arrival"}),a.jsx("p",{className:"font-medium",children:e.arrival.airport.code}),a.jsx("p",{className:"text-gray-600",children:e.arrival.time}),a.jsx("p",{className:"text-gray-600",children:E(e.arrival.date)})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Passengers:"}),(0,a.jsxs)("span",{className:"font-medium",children:[s.length," passenger(s)"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Duration:"}),a.jsx("span",{className:"font-medium",children:e.duration})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Method"}),a.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(u.Z,{className:"w-6 h-6 text-blue-600"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-blue-900",children:"SOV Tokens"}),a.jsx("div",{className:"text-sm text-blue-700",children:"Pay with your SOV token balance"})]})]})})]}),d&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Wallet Balance"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(u.Z,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Available Balance"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-900",children:[d.balance.toLocaleString()," SOV"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(h.Z,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-900",children:"Total Spent"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:[d.totalSpent.toLocaleString()," SOV"]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(g.Z,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Total Earned"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-900",children:[d.totalEarned.toLocaleString()," SOV"]})]})]})]}),w&&(0,a.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm p-6 border-2 border-blue-200",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Confirmation"}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Flight:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e?.airline," ",e?.flightNumber]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Route:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e?.departure.airport.code," → ",e?.arrival.airport.code]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Passengers:"}),a.jsx("span",{className:"font-medium",children:s.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Price:"}),a.jsx("span",{className:"font-medium",children:T(t)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"SOV Tokens:"}),(0,a.jsxs)("span",{className:"font-medium text-blue-600",children:[l," SOV"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Transaction Fee:"}),a.jsx("span",{className:"font-medium text-green-600",children:"0 SOV"})]}),a.jsx("div",{className:"border-t pt-3",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),(0,a.jsxs)("span",{className:"font-bold text-blue-600",children:[l," SOV"]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:C,disabled:!P||y,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:y?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Processing..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"Confirm Payment"}),a.jsx(p.Z,{className:"w-4 h-4"})]})})]})]}),!w&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("button",{onClick:()=>k(!0),disabled:!P||D<=0,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,a.jsxs)("span",{children:["Pay ",l||Math.ceil(t/1e4)," SOV"]}),a.jsx(p.Z,{className:"w-5 h-5"})]}),!P&&l>0&&a.jsx("p",{className:"text-sm text-red-600 mt-2 text-center",children:"Insufficient balance for payment"}),0===D&&a.jsx("p",{className:"text-sm text-yellow-600 mt-2 text-center",children:"⚠️ No payment amount calculated. Please check flight selection."})]})]})},N=({selectedOutbound:e,selectedReturn:s,passengers:t,bonusTokenPercentage:r,setBonusTokenPercentage:l,calculateTotalPrice:i,calculateTotalTokens:n,sovTokenAmount:c,setCurrentStep:x,onBookingSuccess:m})=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Bonus Tokens"}),(0,a.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(d.Z,{className:"h-6 w-6 text-purple-600 mr-2"}),"Bonus Token Options"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{value:0,label:"No Bonus",description:"Standard token earning"},{value:25,label:"25% Bonus",description:"+25% more tokens earned",cost:Math.floor(.05*i())},{value:50,label:"50% Bonus",description:"+50% more tokens earned",cost:Math.floor(.1*i())},{value:100,label:"100% Bonus",description:"Double tokens earned!",cost:Math.floor(.2*i())}].map(e=>a.jsx("div",{onClick:()=>l(e.value),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${r===e.value?"border-purple-500 bg-purple-100":"border-gray-200 hover:border-purple-300"}`,children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.label}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.cost&&(0,a.jsxs)("p",{className:"text-sm font-medium text-purple-600 mt-2",children:["+",e.cost.toLocaleString()," VND"]})]})},e.value))})]})]}),a.jsx(f,{flightDetails:e,passengers:t,totalPrice:i(),sovTokenAmount:i()>0?Math.ceil(i()/1e4):0,onPaymentSuccess:e=>{j.default.success("Flight booked successfully!"),m()},onPaymentError:e=>{j.default.error(e)}}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsx("div",{className:"flex space-x-4",children:(0,a.jsxs)("button",{onClick:()=>x("passengers"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[a.jsx(o.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Passengers"})]})})})]});var y=t(3058),v=t(5568),w=t(4369),k=t(4318),S=t(3282),C=t(4729);function D(){let[e,s]=(0,r.useState)("search"),[t,d]=(0,r.useState)([]),[m,u]=(0,r.useState)({from:"",to:"",departDate:"",returnDate:"",passengers:1,cabin:"economy"}),[h,b]=(0,r.useState)({flights:[],total:0,searchParams:{}}),[f,D]=(0,r.useState)(null),[P,T]=(0,r.useState)(null),[E,A]=(0,r.useState)([]),[O,V]=(0,r.useState)("fiat"),[F,B]=(0,r.useState)(0),[M,Z]=(0,r.useState)(0),[L,$]=(0,r.useState)(0),[_,H]=(0,r.useState)({email:"",phone:"",emergencyContact:"",specialRequests:""}),[R,q]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1);(0,r.useEffect)(()=>{W(),U()},[m.passengers]),(0,r.useEffect)(()=>{if(f){let e=Math.ceil(f.price.base/1e4);Z(e)}},[f]);let W=async()=>{try{let e=await y.Z.getAirports();d(e.airports||[])}catch(e){j.default.error("Failed to load airports"),d([])}},U=()=>{let e=Array(m.passengers).fill(null).map((e,s)=>({title:"Mr",firstName:"",lastName:"",dateOfBirth:"",nationality:"VN",passportNumber:"",passportExpiry:""}));A(e)},G=async()=>{if(!m.from||!m.to||!m.departDate){j.default.error("Please fill all required search fields");return}q(!0);try{let e=new URLSearchParams({from:m.from,to:m.to,departDate:m.departDate,passengers:m.passengers.toString(),cabin:m.cabin});m.returnDate&&e.append("returnDate",m.returnDate);let t=await y.Z.searchVietjetFlights(m);b(t),s("results"),j.default.success(`Found ${t.flights.length} flights`)}catch(e){j.default.error(e.message||"Failed to search flights")}finally{q(!1)}},J=(e,t)=>{"outbound"===t?(D(e),m.returnDate||s("details")):(T(e),s("details"))},K=(e,s)=>{let t="outbound"===s&&f?.flightNumber===e.flightNumber||"return"===s&&P?.flightNumber===e.flightNumber;return(0,a.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all cursor-pointer border-2 ${t?"border-blue-500 bg-blue-50":"border-transparent hover:border-blue-200"}`,onClick:()=>J(e,s),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e.flightNumber}),t&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Selected"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.airline," • ",e.aircraft]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e.price.base.toLocaleString()," VND"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"per person"}),a.jsx("div",{className:"mt-2",children:a.jsx(n.Z,{serviceType:"vietjet",category:"flights",amount:e.price.base,compact:!0})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.departure.time}),a.jsx("p",{className:"text-sm text-gray-600",children:e.departure.airport.code}),a.jsx("p",{className:"text-xs text-gray-500",children:e.departure.airport.city})]}),a.jsx("div",{className:"flex-1 mx-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"border-t-2 border-gray-300 flex-1"}),(0,a.jsxs)("div",{className:"mx-3 text-center",children:[a.jsx(v.Z,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),a.jsx("p",{className:"text-xs text-gray-600",children:e.duration})]}),a.jsx("div",{className:"border-t-2 border-gray-300 flex-1"})]})}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-xl font-bold text-gray-900",children:e.arrival.time}),a.jsx("p",{className:"text-sm text-gray-600",children:e.arrival.airport.code}),a.jsx("p",{className:"text-xs text-gray-500",children:e.arrival.airport.city})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Baggage:"})," ",e.baggage.carry," + ",e.baggage.checked]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Seats:"})," ",e.availableSeats," available"]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Class:"})," ",e.cabin]})]}),a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-3 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(g.Z,{className:"h-5 w-5 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"SOV Tokens Earned"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:[e.sovTokens.standard," tokens"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["(",e.sovTokens.prime," for ATHENA Prime)"]})]})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{className:`px-6 py-2 rounded-lg font-medium transition-all ${t?"bg-green-600 text-white cursor-default":"bg-blue-600 hover:bg-blue-700 text-white"}`,onClick:t=>{t.stopPropagation(),J(e,s)},children:t?"Selected ✓":"Select Flight"})})]},e.flightNumber)};return a.jsx(l.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"VietJet Air Booking"}),a.jsx("p",{className:"mt-2 text-blue-100",children:"Book your flight and earn SOV tokens"})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsx("button",{onClick:()=>z(!I),className:"bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition-colors",children:"View SOV Wallet"})})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"flex-1",children:["search"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[a.jsx(v.Z,{className:"h-8 w-8 text-blue-600 mr-3"}),"Search Flights"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From"}),(0,a.jsxs)("select",{value:m.from,onChange:e=>u({...m,from:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select departure city"}),(t||[]).map(e=>(0,a.jsxs)("option",{value:e.code,children:[e.city," (",e.code,")"]},e.code))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To"}),(0,a.jsxs)("select",{value:m.to,onChange:e=>u({...m,to:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select destination city"}),(t||[]).map(e=>(0,a.jsxs)("option",{value:e.code,children:[e.city," (",e.code,")"]},e.code))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure"}),a.jsx("input",{type:"date",value:m.departDate,onChange:e=>u({...m,departDate:e.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return (Optional)"}),a.jsx("input",{type:"date",value:m.returnDate,onChange:e=>u({...m,returnDate:e.target.value}),min:m.departDate||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passengers"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>u({...m,passengers:Math.max(1,m.passengers-1)}),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:m.passengers<=1,children:a.jsx(w.Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"px-4 py-2 text-lg font-medium",children:m.passengers}),a.jsx("button",{onClick:()=>u({...m,passengers:Math.min(9,m.passengers+1)}),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:m.passengers>=9,children:a.jsx(k.Z,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cabin Class"}),(0,a.jsxs)("select",{value:m.cabin,onChange:e=>u({...m,cabin:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"economy",children:"Economy"}),a.jsx("option",{value:"business",children:"Business"})]})]})]}),a.jsx("button",{onClick:G,disabled:R||!m.from||!m.to||!m.departDate,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-4 px-6 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:R?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(S.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Search Flights"})]})})]}),"results"===e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Available Flights"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[m.from," → ",m.to," on ",m.departDate]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Outbound Flights"}),a.jsx(c.Z,{serviceType:"vietjet",amount:h.flights[0]?.price.base||0,category:"flights",position:"top",size:"medium"}),h.flights.map(e=>K(e,"outbound"))]}),f&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(C.Z,{className:"w-5 h-5 text-green-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-green-800",children:"Flight Selected!"}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:[f.airline," ",f.flightNumber," - ",f.departure.airport.code," to ",f.arrival.airport.code]}),(0,a.jsxs)("p",{className:"text-sm text-green-600",children:[f.price.base.toLocaleString()," VND • ",f.sovTokens.standard," SOV tokens"]})]})]})}),f&&a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Selected Flight"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[f.airline," ",f.flightNumber," - ",f.departure.airport.code," to ",f.arrival.airport.code]}),(0,a.jsxs)("p",{className:"text-sm text-blue-600 font-medium",children:[f.price.base.toLocaleString()," VND • ",f.sovTokens.standard," SOV tokens"]})]}),(0,a.jsxs)("button",{onClick:()=>s("details"),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center space-x-2",children:[a.jsx("span",{children:"Continue to Details"}),a.jsx(p.Z,{className:"w-5 h-5"})]})]})})]}),"details"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Flight Details"}),f&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Selected Flight"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Departure"}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.departure.time}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:f.departure.airport.code}),a.jsx("p",{className:"text-sm text-gray-600",children:f.departure.airport.city}),a.jsx("p",{className:"text-sm text-gray-500",children:f.departure.date})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Arrival"}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.arrival.time}),a.jsx("p",{className:"text-lg font-medium text-gray-700",children:f.arrival.airport.code}),a.jsx("p",{className:"text-sm text-gray-600",children:f.arrival.airport.city}),a.jsx("p",{className:"text-sm text-gray-500",children:f.arrival.date})]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Flight Duration"}),a.jsx("p",{className:"font-medium",children:f.duration})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Aircraft"}),a.jsx("p",{className:"font-medium",children:f.aircraft})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Cabin Class"}),a.jsx("p",{className:"font-medium capitalize",children:f.cabin})]})]})})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing & Tokens"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Price Breakdown"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Base Fare:"}),(0,a.jsxs)("span",{className:"font-medium",children:[f.price.breakdown.baseFare.toLocaleString()," VND"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Taxes:"}),(0,a.jsxs)("span",{className:"font-medium",children:[f.price.breakdown.taxes.toLocaleString()," VND"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Fees:"}),(0,a.jsxs)("span",{className:"font-medium",children:[f.price.breakdown.fees.toLocaleString()," VND"]})]}),(0,a.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),(0,a.jsxs)("span",{className:"font-bold text-blue-600",children:[f.price.base.toLocaleString()," VND"]})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"SOV Tokens Earned"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Standard:"}),(0,a.jsxs)("span",{className:"font-medium text-purple-600",children:[f.sovTokens.standard," SOV"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"ATHENA Prime:"}),(0,a.jsxs)("span",{className:"font-medium text-purple-600",children:[f.sovTokens.prime," SOV"]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Baggage Allowance"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Carry-on: ",f.baggage.carry]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Checked: ",f.baggage.checked]})]})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Amenities"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:f.amenities.map((e,s)=>a.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:e},s))})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4 mt-8",children:[(0,a.jsxs)("button",{onClick:()=>s("results"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[a.jsx(o.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Flights"})]}),(0,a.jsxs)("button",{onClick:()=>{s("passengers")},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[a.jsx("span",{children:"Continue to Passenger Info"}),a.jsx(p.Z,{className:"w-5 h-5"})]})]})]}),"passengers"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Passenger Information"}),E.map((e,s)=>(0,a.jsxs)("div",{className:"mb-8 p-6 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Passenger ",s+1," ",0===s&&"(Lead Passenger)"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,a.jsxs)("select",{value:e.title,onChange:e=>{let t=[...E];t[s].title=e.target.value,A(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Mr",children:"Mr"}),a.jsx("option",{value:"Mrs",children:"Mrs"}),a.jsx("option",{value:"Ms",children:"Ms"}),a.jsx("option",{value:"Dr",children:"Dr"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),a.jsx("input",{type:"text",value:e.firstName,onChange:e=>{let t=[...E];t[s].firstName=e.target.value,A(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),a.jsx("input",{type:"text",value:e.lastName,onChange:e=>{let t=[...E];t[s].lastName=e.target.value,A(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth *"}),a.jsx("input",{type:"date",value:e.dateOfBirth,onChange:e=>{let t=[...E];t[s].dateOfBirth=e.target.value,A(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passport Number *"}),a.jsx("input",{type:"text",value:e.passportNumber,onChange:e=>{let t=[...E];t[s].passportNumber=e.target.value,A(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Passport Expiry *"}),a.jsx("input",{type:"date",value:e.passportExpiry,onChange:e=>{let t=[...E];t[s].passportExpiry=e.target.value,A(t)},min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]})]},s)),(0,a.jsxs)("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),a.jsx("input",{type:"email",value:_.email,onChange:e=>H({..._,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsx("input",{type:"tel",value:_.phone,onChange:e=>H({..._,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),a.jsx("input",{type:"tel",value:_.emergencyContact,onChange:e=>H({..._,emergencyContact:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),a.jsx("textarea",{value:_.specialRequests,onChange:e=>H({..._,specialRequests:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Wheelchair assistance, dietary requirements, etc."})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4 mt-8",children:[a.jsx("button",{onClick:()=>s("details"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg transition-colors",children:"Back to Flight Details"}),a.jsx("button",{onClick:()=>{let e=E.every(e=>e.firstName&&e.lastName&&e.dateOfBirth&&e.passportNumber&&e.passportExpiry);if(!e){j.default.error("Please complete all passenger information");return}if(!_.email||!_.phone){j.default.error("Please provide contact information");return}s("payment")},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Continue to Payment"})]})]}),"payment"===e&&a.jsx(N,{selectedOutbound:f,selectedReturn:P,passengers:E,bonusTokenPercentage:F,setBonusTokenPercentage:B,calculateTotalPrice:()=>{let e=0;return f&&(e+=f.price.base),P&&(e+=P.price.base),e},calculateTotalTokens:(e=!1)=>{let s=0;f&&(s+=e?f.sovTokens.prime:f.sovTokens.standard),P&&(s+=e?P.sovTokens.prime:P.sovTokens.standard);let t=Math.floor(s*(F/100));return s+t},sovTokenAmount:M,setCurrentStep:e=>s(e),onBookingSuccess:()=>s("confirmation")}),"confirmation"===e&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx(C.Z,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking Confirmed!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your flight has been successfully booked. You will receive a confirmation email shortly."})]}),f&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Flight Details"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Flight:"})," ",f.airline," ",f.flightNumber]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Route:"})," ",f.departure.airport.code," → ",f.arrival.airport.code]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Date:"})," ",f.departure.date]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Time:"})," ",f.departure.time," - ",f.arrival.time]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Duration:"})," ",f.duration]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Passenger & Payment"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Passengers:"})," ",E.length]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Price:"})," ",f.price.base.toLocaleString()," VND"]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"SOV Tokens Used:"})," ",M]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"text-gray-600",children:"SOV Tokens Earned:"})," ",f.sovTokens.standard]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("button",{onClick:()=>s("search"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Book Another Flight"}),a.jsx("button",{onClick:()=>window.location.href="/transactions",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 px-6 rounded-lg transition-colors",children:"View Transaction History"})]})]})]}),(0,a.jsxs)("div",{className:"lg:w-80",children:[I&&a.jsx("div",{className:"mb-6",children:a.jsx(i.Z,{})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Booking Progress"}),a.jsx("div",{className:"space-y-3",children:[{key:"search",label:"Search Flights"},{key:"results",label:"Select Flights"},{key:"details",label:"Flight Details"},{key:"passengers",label:"Passenger Info"},{key:"payment",label:"Payment"},{key:"confirmation",label:"Confirmation"}].map((s,t)=>(0,a.jsxs)("div",{className:`flex items-center space-x-3 ${e===s.key?"text-blue-600":["search","results","details","passengers","payment"].indexOf(e)>t?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e===s.key?"bg-blue-100 text-blue-600":["search","results","details","passengers","payment"].indexOf(e)>t?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:["search","results","details","passengers","payment"].indexOf(e)>t?a.jsx(C.Z,{className:"h-5 w-5"}):t+1}),a.jsx("span",{className:"text-sm font-medium",children:s.label})]},s.key))})]})]})]})})]})})}},9811:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var a=t(3157),r=t(1906),l=t(5029),i=t(9193),n=t(9312),c=t(9780);function d({serviceType:e,category:s,amount:t,className:d="",compact:o=!1}){let[x,m]=(0,r.useState)(null),[u,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{t>0?g():h(!1)},[e,s,t]);let g=async()=>{try{let a=await c.N.getServiceBonus(e,t,s);m(a)}catch(r){console.error("Failed to fetch service bonus:",r);let e=Math.floor(t/1e4),s="Diamond",a=Math.floor(1*e);m({success:!0,userRank:s,bonusAmount:a,baseAmount:e,totalAmount:e+a,message:`🎉 Bạn sẽ nhận được ${e+a} SOV với rank ${s}!`,multiplier:2})}finally{h(!1)}},p=e=>e.toLocaleString(),b=e=>{switch(e?.toLowerCase()){case"diamond":return"from-blue-500 to-purple-600";case"gold":return"from-yellow-500 to-orange-500";case"silver":default:return"from-gray-400 to-gray-600";case"bronze":return"from-orange-600 to-red-600"}},j=e=>{switch(e?.toLowerCase()){case"diamond":return"\uD83D\uDC8E";case"gold":return"\uD83E\uDD47";case"silver":return"\uD83E\uDD48";case"bronze":return"\uD83E\uDD49";default:return"\uD83C\uDFC6"}};return u?a.jsx("div",{className:`animate-pulse ${d}`,children:a.jsx("div",{className:"bg-gray-200 h-6 w-32 rounded"})}):x&&x.success&&!(x.bonusAmount<=0)?o?(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r ${b(x.userRank)} text-white rounded-full text-sm font-bold shadow-lg ${d}`,children:[a.jsx(i.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[j(x.userRank)," +",p(x.totalAmount||x.bonusAmount)," SOV"]}),(0,a.jsxs)("span",{className:"text-xs opacity-80",children:["(",x.multiplier,"x)"]})]}):(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-300 rounded-xl p-6 shadow-lg ${d}`,children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${b(x.userRank)} rounded-full flex items-center justify-center text-white text-xl shadow-lg`,children:a.jsx(n.Z,{className:"w-6 h-6"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsxs)("h4",{className:"text-lg font-bold text-green-800",children:[j(x.userRank)," ",x.userRank," Bonus"]}),(0,a.jsxs)("span",{className:"text-sm text-white bg-gradient-to-r from-green-500 to-blue-500 px-3 py-1 rounded-full font-bold",children:[x.multiplier,"x Multiplier"]})]}),a.jsx("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Base Reward"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:[p(x.baseAmount||Math.floor(x.bonusAmount/(x.multiplier-1)))," SOV"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bonus"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:["+",p(x.bonusAmount)," SOV"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:[p(x.totalAmount||x.bonusAmount)," SOV"]})]})]})}),a.jsx("p",{className:"text-sm text-green-600 mt-3 font-medium",children:x.message||`🎉 Bạn sẽ nhận được ${p(x.totalAmount||x.bonusAmount)} SOV với rank ${x.userRank}!`})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Service:"}),a.jsx("span",{className:"font-semibold text-gray-800",children:e.toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Amount:"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-800",children:[t.toLocaleString()," VND"]})]})]})})]}):null}},7313:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(3157);t(1906);var r=t(5029),l=t(9811);let i=({serviceType:e,amount:s,category:t,position:i="inline",size:n="medium"})=>s<=0?null:a.jsx(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:`${(()=>{switch(i){case"top":return"mb-4";case"bottom":return"mt-4";default:return"my-4"}})()} ${(()=>{switch(n){case"small":return"text-sm";case"large":return"text-lg";default:return"text-base"}})()}`,children:a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm",children:"\uD83C\uDF81"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Token Rewards Available"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Earn SOV tokens with this purchase"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(l.Z,{serviceType:e,amount:s,category:t,compact:!0})})]})})})},3655:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var a=t(7471);let r=(0,a.createProxy)(String.raw`E:\ATHENA-HD_HACKATHON\web\src\app\vietjet\page.tsx`),{__esModule:l,$$typeof:i}=r,n=r.default,c=n},5494:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(1906);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"}))}),l=r},1155:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(1906);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}),l=r},2295:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(1906);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"}))}),l=r},3282:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(1906);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))}),l=r},5568:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(1906);let r=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"}))}),l=r}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[971,18,999,923,678],()=>t(2418));module.exports=a})();