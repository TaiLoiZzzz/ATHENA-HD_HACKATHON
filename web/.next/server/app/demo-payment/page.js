(()=>{var e={};e.id=927,e.ids=[927],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3666:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>o});var a=s(1491),r=s(6504),n=s(8984),l=s.n(n),i=s(8861),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["demo-payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9197)),"E:\\ATHENA-HD_HACKATHON\\web\\src\\app\\demo-payment\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8052)),"E:\\ATHENA-HD_HACKATHON\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1975,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\ATHENA-HD_HACKATHON\\web\\src\\app\\demo-payment\\page.tsx"],x="/demo-payment/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/demo-payment/page",pathname:"/demo-payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4284:(e,t,s)=>{Promise.resolve().then(s.bind(s,2862))},2862:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(3157),r=s(1906),n=s(2678),l=s(5029),i=s(4729),c=s(434),o=s(3682),d=s(7867);let x=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))});var m=s(4207),h=s(1701),u=s(8398),p=s(3058),g=s(6933),j=s(690);let b=({className:e=""})=>{let[t,s]=(0,r.useState)(null),[n,b]=(0,r.useState)([]),[y,f]=(0,r.useState)(!1),[v,N]=(0,r.useState)("vietjet"),[w,k]=(0,r.useState)(1e3),[E,A]=(0,r.useState)([]);(0,r.useEffect)(()=>{S(),D()},[]);let S=async()=>{try{let e=await p.E.getSOVWallet();s(e)}catch(e){console.error("Failed to load wallet:",e)}},D=async()=>{try{let e=await p.E.getTokenTransactions(1,10);b(e.transactions)}catch(e){console.error("Failed to load transactions:",e)}},T=async()=>{if(!t||t.balance<w){j.default.error("Số dư kh\xf4ng đủ để thanh to\xe1n");return}f(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=g.H.processPayment(w,v,`demo_${Date.now()}`,`Demo payment for ${v}`);A(t=>[e,...t]),await S(),await D(),j.default.success(`Thanh to\xe1n th\xe0nh c\xf4ng! Đ\xe3 trừ ${w} SOV tokens`)}catch(e){j.default.error("Thanh to\xe1n thất bại: "+e.message)}finally{f(!1)}},C=e=>({vietjet:"Vietjet Air",hdbank:"HD Bank",sovico:"Sovico Resort",insurance:"Bảo hiểm"})[e]||e,O=e=>new Date(e).toLocaleString("vi-VN"),H=e=>{switch(e){case"completed":return a.jsx(i.Z,{className:"w-5 h-5 text-green-500"});case"pending":return a.jsx(c.Z,{className:"w-5 h-5 text-yellow-500"});case"failed":return a.jsx(o.Z,{className:"w-5 h-5 text-red-500"});default:return a.jsx(c.Z,{className:"w-5 h-5 text-gray-500"})}};return(0,a.jsxs)("div",{className:`space-y-6 ${e}`,children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Demo Hệ thống Thanh to\xe1n"}),a.jsx("p",{className:"text-gray-600",children:"Hướng dẫn sử dụng thanh to\xe1n SOV tokens v\xe0 xem lịch sử giao dịch"})]}),t&&a.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"SOV Wallet"}),a.jsx("p",{className:"text-white/80",children:"Số dư hiện tại"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:t.balance.toLocaleString()}),a.jsx("div",{className:"text-sm text-white/80",children:"SOV Tokens"})]})]})}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(d.Z,{className:"w-5 h-5 mr-2"}),"Demo Thanh to\xe1n"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chọn dịch vụ"}),(0,a.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"vietjet",children:"Vietjet Air"}),a.jsx("option",{value:"hdbank",children:"HD Bank"}),a.jsx("option",{value:"sovico",children:"Sovico Resort"}),a.jsx("option",{value:"insurance",children:"Bảo hiểm"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tiền (SOV tokens)"}),a.jsx("input",{type:"number",value:w,onChange:e=>k(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",min:"1",max:t?.balance||1e3})]}),a.jsx("button",{onClick:T,disabled:y||!t||t.balance<w,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang xử l\xfd..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Thanh to\xe1n ",w," SOV"]})})]})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(h.Z,{className:"w-5 h-5 mr-2"}),"Lịch sử Giao dịch"]}),0===n.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(h.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Chưa c\xf3 giao dịch n\xe0o"})]}):a.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[H(e.status),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.description}),a.jsx("p",{className:"text-xs text-gray-500",children:O(e.createdAt)})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:`text-sm font-bold ${"earn"===e.type?"text-green-600":"text-red-600"}`,children:["earn"===e.type?"+":"-",Math.abs(e.amount).toLocaleString()," SOV"]}),e.serviceType&&a.jsx("p",{className:"text-xs text-gray-500",children:C(e.serviceType)})]})]},e.id))})]}),E.length>0&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(u.Z,{className:"w-5 h-5 mr-2"}),"Lịch sử Thanh to\xe1n Demo"]}),a.jsx("div",{className:"space-y-3",children:E.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(i.Z,{className:"w-5 h-5 text-green-500"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.description}),a.jsx("p",{className:"text-xs text-gray-500",children:O(e.createdAt)})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm font-bold text-green-600",children:["-",e.amount.toLocaleString()," SOV"]}),a.jsx("p",{className:"text-xs text-gray-500",children:C(e.serviceType)})]})]},e.id))})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Hướng dẫn sử dụng"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,a.jsxs)("p",{children:["• ",a.jsx("strong",{children:"Chọn dịch vụ:"})," Chọn dịch vụ bạn muốn thanh to\xe1n"]}),(0,a.jsxs)("p",{children:["• ",a.jsx("strong",{children:"Nhập số tiền:"})," Nhập số SOV tokens muốn chi ti\xeau"]}),(0,a.jsxs)("p",{children:["• ",a.jsx("strong",{children:"Thanh to\xe1n:"})," Nhấn n\xfat để thực hiện thanh to\xe1n"]}),(0,a.jsxs)("p",{children:["• ",a.jsx("strong",{children:"Xem lịch sử:"})," Tất cả giao dịch được lưu trong localStorage"]}),(0,a.jsxs)("p",{children:["• ",a.jsx("strong",{children:"Thống k\xea:"})," Xem tổng quan chi ti\xeau v\xe0 nhận token"]})]})]})]})};var y=s(7313);function f(){return a.jsx(n.Z,{children:a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(y.Z,{serviceType:"demo-payment",amount:5e5,category:"demo",position:"top",size:"large"}),a.jsx(b,{})]})})})}},9811:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(3157),r=s(1906),n=s(5029),l=s(9193),i=s(9312),c=s(9780);function o({serviceType:e,category:t,amount:s,className:o="",compact:d=!1}){let[x,m]=(0,r.useState)(null),[h,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{s>0?p():u(!1)},[e,t,s]);let p=async()=>{try{let a=await c.N.getServiceBonus(e,s,t);m(a)}catch(r){console.error("Failed to fetch service bonus:",r);let e=Math.floor(s/1e4),t="Diamond",a=Math.floor(1*e);m({success:!0,userRank:t,bonusAmount:a,baseAmount:e,totalAmount:e+a,message:`🎉 Bạn sẽ nhận được ${e+a} SOV với rank ${t}!`,multiplier:2})}finally{u(!1)}},g=e=>e.toLocaleString(),j=e=>{switch(e?.toLowerCase()){case"diamond":return"from-blue-500 to-purple-600";case"gold":return"from-yellow-500 to-orange-500";case"silver":default:return"from-gray-400 to-gray-600";case"bronze":return"from-orange-600 to-red-600"}},b=e=>{switch(e?.toLowerCase()){case"diamond":return"\uD83D\uDC8E";case"gold":return"\uD83E\uDD47";case"silver":return"\uD83E\uDD48";case"bronze":return"\uD83E\uDD49";default:return"\uD83C\uDFC6"}};return h?a.jsx("div",{className:`animate-pulse ${o}`,children:a.jsx("div",{className:"bg-gray-200 h-6 w-32 rounded"})}):x&&x.success&&!(x.bonusAmount<=0)?d?(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r ${j(x.userRank)} text-white rounded-full text-sm font-bold shadow-lg ${o}`,children:[a.jsx(l.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[b(x.userRank)," +",g(x.totalAmount||x.bonusAmount)," SOV"]}),(0,a.jsxs)("span",{className:"text-xs opacity-80",children:["(",x.multiplier,"x)"]})]}):(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-br from-green-50 to-blue-50 border-2 border-green-300 rounded-xl p-6 shadow-lg ${o}`,children:[(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${j(x.userRank)} rounded-full flex items-center justify-center text-white text-xl shadow-lg`,children:a.jsx(i.Z,{className:"w-6 h-6"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsxs)("h4",{className:"text-lg font-bold text-green-800",children:[b(x.userRank)," ",x.userRank," Bonus"]}),(0,a.jsxs)("span",{className:"text-sm text-white bg-gradient-to-r from-green-500 to-blue-500 px-3 py-1 rounded-full font-bold",children:[x.multiplier,"x Multiplier"]})]}),a.jsx("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Base Reward"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-800",children:[g(x.baseAmount||Math.floor(x.bonusAmount/(x.multiplier-1)))," SOV"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bonus"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:["+",g(x.bonusAmount)," SOV"]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-700",children:[g(x.totalAmount||x.bonusAmount)," SOV"]})]})]})}),a.jsx("p",{className:"text-sm text-green-600 mt-3 font-medium",children:x.message||`🎉 Bạn sẽ nhận được ${g(x.totalAmount||x.bonusAmount)} SOV với rank ${x.userRank}!`})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Service:"}),a.jsx("span",{className:"font-semibold text-gray-800",children:e.toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Amount:"}),(0,a.jsxs)("span",{className:"font-semibold text-gray-800",children:[s.toLocaleString()," VND"]})]})]})})]}):null}},7313:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(3157);s(1906);var r=s(5029),n=s(9811);let l=({serviceType:e,amount:t,category:s,position:l="inline",size:i="medium"})=>t<=0?null:a.jsx(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:`${(()=>{switch(l){case"top":return"mb-4";case"bottom":return"mt-4";default:return"my-4"}})()} ${(()=>{switch(i){case"small":return"text-sm";case"large":return"text-lg";default:return"text-base"}})()}`,children:a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm",children:"\uD83C\uDF81"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Token Rewards Available"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Earn SOV tokens with this purchase"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(n.Z,{serviceType:e,amount:t,category:s,compact:!0})})]})})})},9197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>c});var a=s(7471);let r=(0,a.createProxy)(String.raw`E:\ATHENA-HD_HACKATHON\web\src\app\demo-payment\page.tsx`),{__esModule:n,$$typeof:l}=r,i=r.default,c=i},7867:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(1906);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"}))}),n=r},8398:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(1906);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}),n=r},3682:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(1906);let r=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}),n=r}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[971,18,999,923,678],()=>s(3666));module.exports=a})();